<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Бэта - Бинарный сумматор</title>
</head>
<body>
	<script type="text/javascript">		

		var term1 = [];
		var term2 = [];
		var sum = [];

		var stop = 0;

		alert("Вас приветствует бэта-версия бинарного сумматора, который позволяет складывать двоичные числа. Число каждого слогамого требуется вводить по одной цифре, СПРАВА НА ЛЕВО, предварительно указав колличество разрядов. Вы можете завершить итерацию в любой момент нажав 'q'.");


		function entry (room_term) {
		
			var NumberOfCategories = 0;

			while(true) {
				NumberOfCategories = prompt("Введите количество разрядов "+room_term+" слагаемого:");		
				if (NumberOfCategories == 'q') {
					stop = 1;
					break;
				}
				NumberOfCategories = Number(NumberOfCategories);
				if(NumberOfCategories <= 0 || isNaN(NumberOfCategories)) {
					alert ("Колличество разрядов должно быть целым положительным числом.");		
				} else {
					if(sumNumberOfCategories < NumberOfCategories) {
						sumNumberOfCategories = NumberOfCategories;
					}					
					break;
				}			
			}			

			if(room_term == "первого") {
				var indexCategory = 0;
				while(indexCategory < NumberOfCategories) {
					term1[indexCategory] = prompt("Введите число из разряда №" + (indexCategory + 1));
					if (term1[indexCategory] == 'q') {
						stop = 1;
						break;				
					}
					term1[indexCategory] = Number(term1[indexCategory]);
					if ((typeof term1[indexCategory] == "number") && (term1[indexCategory] == 0 || term1[indexCategory] == 1)) {
						indexCategory++;						
					} else {
						alert ("Данные вне формата")
					}
				}

			} else {
				var indexCategory = 0;
				while(indexCategory < NumberOfCategories) {
					term2[indexCategory] = prompt("Введите число из разряда №" + (indexCategory + 1));
					if (term2[indexCategory] == 'q') {
						stop = 1;
						break;				
					}
					term2[indexCategory] = Number(term2[indexCategory]);
					if ((typeof term2[indexCategory] == "number") && (term2[indexCategory] == 0 || term2[indexCategory] == 1)) {
						indexCategory++;						
					} else {
						alert ("Данные вне формата")
					}
				}
			}			
		}


		var sumNumberOfCategories = 0;

		entry ("первого");
		if(stop != 1) {
			entry ("второго");
		}

		var indexCategory = 0;
		
		while(indexCategory < sumNumberOfCategories && stop != 1){

			var Term1 = term1[indexCategory];
			var Term2 = term2[indexCategory];
			var Sum = sum[indexCategory];
			if(Term1 === undefined) {
				Term1 = 0;
			}
			if(Term2 === undefined) {
				Term2 = 0;
			}
			if(Sum === undefined) {
				Sum = 0;
			}
			var sumCategories = Term1 + Term2 + Sum;

			if(sumCategories == 0) {
				sum[indexCategory] = 0;
				indexCategory++;
			}
			if(sumCategories == 1) {
				sum[indexCategory] = 1;
				indexCategory++;
			}
			if(sumCategories == 2) {
				sum[indexCategory] = 0;
				sum[indexCategory + 1] = 1;
				indexCategory++;
			}
			if(sumCategories == 3) {
				sum[indexCategory] = 1;
				sum[indexCategory + 1] = 1;
				indexCategory++;
			}
		}


		if(stop != 1) {
			alert("Сумма: " + sum.reverse().join(' '));
		}			
		
	</script>
</body>
</html>